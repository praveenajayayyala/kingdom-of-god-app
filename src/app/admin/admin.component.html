<div class="admin-container">
  <div class="container-main" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%"
    fxLayoutAlign="center">
    <div class="container">
      <div class="article-intro col-md-4">
        <h2>Navigation</h2>
        <app-navigation-tree (messageEvent)="displayMessage($event)"></app-navigation-tree>
      </div>
      <div class="article-intro col-md-5">
        <div class="login-div">
          <h3><a *ngIf="this.needToLogin"
              href="https://kingdomofgod.auth.ap-south-1.amazoncognito.com/oauth2/authorize?client_id=vclkssn2ftril9vhgbscnc46r&response_type=code&scope=aws.cognito.signin.user.admin+email+openid+phone&redirect_uri=http://localhost:4200/admin/">Login</a>
          </h3>
        </div>
        <h2>Pages/Articles</h2>
        <h3 [style.color]="this.statusMsgColor">{{this.statusMessage}}</h3>
        <h4>Design page by adding controls</h4>
        <!-- <mat-tab-group>
          <mat-tab label="Articles">
            <table>
              <tr>
                <th>Field-Name</th>
                <th>Values</th>
              </tr>
              <tr *ngFor="let fld of pageFields">
                <td>{{fld.field}}</td>
                <td>{{fld.type}}</td>
              </tr>
            </table>
          </mat-tab>

          <mat-tab label="Forms">
            <app-dynamic-form [questions]="questions$ | async"></app-dynamic-form>
          </mat-tab>
          <mat-tab label="Third"> Content 3 </mat-tab>
        </mat-tab-group> -->
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
            <!-- <button mat-icon-button disabled></button> -->
            <mat-checkbox class="checklist-leaf-node" [checked]="checklistSelection.isSelected(node)"
              (change)="todoLeafItemSelectionToggle(node)">{{ node.item }}</mat-checkbox>

            <button mat-icon-button (click)="removeItem(node)">
              <mat-icon style="color: gray;">delete</mat-icon>
            </button>

          </mat-tree-node>

          <mat-tree-node *matTreeNodeDef="let node; when: hasNoContent" matTreeNodePadding>
            <!-- <button mat-icon-button disabled></button> -->
            <mat-form-field>
              <!-- <mat-label>New item...</mat-label> -->
              <!-- <input matInput #itemValue placeholder="Ex. Lettuce" /> -->
              <select #itemValue>
                <option *ngFor="let crtl of availableControls" [value]="crtl"> {{ crtl }}</option>
              </select>
            </mat-form-field>
            <button mat-button (click)="saveNode(node, itemValue.value)">
              Save
            </button>
          </mat-tree-node>

          <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
            <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.item">
              <mat-icon class="mat-icon-rtl-mirror">
                {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}
              </mat-icon>
            </button>
            <mat-checkbox [checked]="descendantsAllSelected(node)" (click)="onMouseClick($event,node)"
              [indeterminate]="descendantsPartiallySelected(node)" (change)="todoItemSelectionToggle(node)">{{ node.item
              }}</mat-checkbox>
            <sup>Testing</sup>
            <button mat-icon-button (click)="addNewItem(node)">
              <mat-icon>add</mat-icon>
            </button>
            <button mat-icon-button (click)="removeItem(node)">
              <mat-icon style="color: gray;">delete</mat-icon>
            </button>
          </mat-tree-node>
        </mat-tree>

        <div>{{this.selectedMenu | json}}</div>

        <button (click)="this.classFields" value="Get fields">
          Get fields
        </button>
        <button (click)="this.saveArticleByValidation()">Save article</button>
        <!-- <button (click)="this.getValidate()">Validate</button> -->
      </div>
      <div class="article-intro col-md-3">
        <h2>Properties of Control </h2>
        <div class="mat-crtl-col" [style]="this.propPosition">
          <table class="fl-table">
            <!-- <tr>
            <th>Field-Name</th>
            <th>Values</th>
          </tr> -->
            <tr *ngFor="let fld of classFields">
              <td>{{fld.field}}</td>
              <td [ngSwitch]="fld.type">
                <input class="sample-xl" *ngSwitchCase="'string'" type="text" />
                <input class="sample-xl" *ngSwitchCase="'number'" type="number" />
                <select class="sample-xl" *ngSwitchCase="'boolean'">
                  <option>true</option>
                  <option>false</option>
                </select>
              </td>
            </tr>
            <tr>
              <td><button mat-button>
                  Save
                </button></td>
              <td><button mat-button>
                  Cancel
                </button></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>